{% extends 'base.html' %}
{% block title %}People Manager{% endblock %}

{% block body %}
<div>
    <h2 style="text-align: center; padding: 10px">Welcome to People Manager</h2>
    <div style="padding: 10px">
        {% if form.errors %}
            <ul class="errors">
                {% for field_name, field_errors in form.errors|dictsort if field_errors %}
                    {% for error in field_errors %}
                        <li>{{ form[field_name].label }}: {{ error }}</li>
                    {% endfor %}
                {% endfor %}
            </ul>
        {% endif %}
          <form class="form-horizontal" action="/" method="POST" style="text-align: center;" >
                {{ form.hidden_tag() }}
            <div class="form-row">
                {{ form.csrf_token }}
                <div class="form-group">{{ form.name }}</div>
                <div class="form-group">{{ form.email }}</div>
                <div class="form-group">{{ form.birthday.label }} {{ form.birthday }}</div>
                <div class="form-group">{{ form.zip_code }}</div>
                <div class="form-group">{{ form.save }}</div>
            </div>
          </form>
      </div>
      <div class="w-75 mx-auto">
          <table class="table table-striped table-hover">
            <thead class="table-dark">
                <tr>
                    <td>No.</td>
                    <td>Name</td>
                    <td>Email</td>
                    <td>Birthday</td>
                    <td>Zip Code</td>
                    <td></td>
                    <td></td>
                </tr>
            </thead>
            {% for user in users %}
                <tr>
                    <td>{{loop.index}}</td>
                    <td>{{user.name}}</td>
                    <td>{{user.email}}</td>
                    <td>{{user.birthday}}</td>
                    <td>{{user.zip_code}}</td>
                    <td>
                    <a href="/update/{{user.user_id}}">edit</a>
                    <a href="/delete/{{user.user_id}}">delete</a>
                    </td>
                </tr>
            {% endfor %}
            </table>
        </div>
    </div>
      
</div>
{% endblock %}